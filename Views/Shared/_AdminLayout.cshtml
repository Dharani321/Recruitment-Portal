<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Recruitify</title>

    <!-- Bootstrap & Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: lightgreen;
        }
        /* Sidebar Styling */
        .sidebar {
            height:95vh;
            width:250px;
            background: #fff;
            position: fixed;
            left: 0;
            top: 0;margin:12px;
            border-radius:10px;
            padding: 20px;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
        }


            /* Collapsed Sidebar */
            .sidebar.collapsed {
                width: 60px;
            }

        /* Sidebar Header */
        .sidebar-header {
            text-align: center;
            padding-bottom: 20px;
        }

        /* Sidebar Links */
        .sidebar .nav-link {
            color: #333;
            font-weight: 500;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

            /* Proper Icon Spacing */
            .sidebar .nav-link i {
                width: 24px; /* Ensures all icons have the same width */
                text-align: center;
                font-size: 20px;
            }

        /* Hide text when collapsed */
        .sidebar.collapsed .nav-link span {
            display: none;
        }

        /* Center icons when collapsed */
        .sidebar.collapsed .nav-link {
            justify-content: center;
        }

        /* Sidebar Divider */
        .sidebar-divider {
            border-top: 1px solid rgba(255, 255, 255, 0.3);
            margin: 10px 0;
        }

        /* Toggle Button */
        .toggle-btn {
            position: absolute;
            top:30px;
           Left:10%;
            transform: translateX(-50%);
            background: linear-gradient(to right, #007bff, #0056b3); /* Gradient Blue */
            border: none;
            color: white;
            padding: 6px 10px;
            font-size: 18px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        /* Center Toggle Button When Collapsed */
        .sidebar.collapsed .toggle-btn {
            left: 50%;
            transform: translateX(-50%);
        }
        /* Hover Effect */
        .toggle-btn:hover {
            filter: brightness(1.2);
        }

        #adminImage1
        {
            margin-left:50px;
            border-radius:50%;
        }
        /* Main Content */
        .layout-content {
            margin-left: 250px;
            padding: 20px;
            width: calc(100% - 250px);
            transition: margin-left 0.3s;
        }

        /* Adjust Content When Sidebar is Collapsed */
        .sidebar.collapsed ~ .layout-content {
            margin-left: 60px;
            width: calc(100% - 60px);
        }

        .sidebar .nav-link:hover {
            background: #c8e6c9; /* Soft pastel green */
            border-radius: 5px;
            transition: background 0.3s ease-in-out;
        }

        .sidebar li:hover span {
            color: #2e7d32; /* Dark green for better contrast */
            font-weight: bold;
            transition: color 0.3s ease-in-out;
        }

            .sidebar li:hover i {
                color: black;
            }
        h4 {
            color: #d1882e; /* Orange-brown for "metro" */
        }

            h4 span {
                color: #1d4b3e; /* Dark green for "cery" */
            }
        .custom-bullet {
            font-size: 12px !important;
             /* Set bullet size to 12px */
            margin-right:0px; /* Adjust spacing */
            color:green;
        }
    </style>
</head>
<body>

    <div class="d-flex">
        <!-- Sidebar -->
        <nav id="sidebar" class="sidebar">
            @*<button class="toggle-btn" onclick="toggleSidebar()">*@
                @*<i class="fas fa-bars"></i>
            </button>*@
            <div class="sidebar-header">
                <h4><span style="color:#d1882e;">Recru</span><span style="color:#1d4b3e;">itify</span></h4>

                <hr style="border: 2px green solid " />
                @*<a href="/Admin/Index"><img src="" style="height:40px;width:40px" id="adminImage1" /></a>*@
            </div>
           
            <ul class="nav flex-column">
                <li><a href="@Url.Action("Index", "Admin")" class="nav-link"><i class="fas fa-circle custom-bullet"></i> Profile</a></li>
                <li><a href="@Url.Action("DatabaseManager", "Admin")" class="nav-link"><i class="fas fa-circle custom-bullet"></i> Database Manager</a></li>
                <li><a href="@Url.Action("ApplicationReview", "Admin")" class="nav-link"><i class="fas fa-circle custom-bullet"></i> ATS</a></li>
                <li>
                    <a href="#" class="nav-link d-flex justify-content-between align-items-center" onclick="toggleSubmenu()">
                        <span><i class="fas fa-circle custom-bullet"></i> Interviews</span>
                        <i class="fas fa-chevron-down custom-bullet" id="toggle-icon"></i>
                    </a>
                    <ul class="nav flex-column ms-3 d-none" id="interview-submenu">
                        <li><a href="@Url.Action("InterviewManager", "Admin")" class="nav-link"><i class="fas fa-circle custom-bullet"></i> First Round</a></li>
                        <li><a href="#" class="nav-link"><i class="fas fa-circle custom-bullet"></i> Second Round</a></li>
                    </ul>
                </li>
                <li><a href="@Url.Action("JobPostings", "Admin")" class="nav-link"><i class="fas fa-circle custom-bullet"></i> Job Postings</a></li>
                <li><a href="@Url.Action("Statistics", "Admin")" class="nav-link"><i class="fas fa-circle custom-bullet"></i> User Stats</a></li>
                <li class="sidebar-divider"></li>
                <li>
                    <a href="javascript:void(0);" onclick="confirmLogout()" class="nav-link text-danger">
                        <i class="fas fa-sign-out-alt custom-bullet"></i> Logout
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="layout-content">
            @RenderBody()
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer text-center mt-3">
        <p>&copy; @DateTime.Now.Year Recruitify. All Rights Reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.4/dist/sweetalert2.all.min.js"></script>
    <!-- JavaScript for Sidebar Toggle -->
    <script>
        function toggleSidebar() {
            let sidebar = document.getElementById("sidebar");
            sidebar.classList.toggle("collapsed");
           
                let spanElement = document.querySelector(".sidebar-header span");

                if (spanElement.style.opacity === "0") {
                    spanElement.style.opacity = "1"; // Show it
                } else {
                    spanElement.style.opacity = "0"; // Hide it
                }
            
        }

        function confirmLogout() {
            Swal.fire({
                title: "Are you sure you want to logout?",
                text: "You can login with another account or stay logged in.",
                icon: "warning",
                showCancelButton: true,
                showDenyButton: true,
                confirmButtonColor: "#d33",
                cancelButtonColor: "#3085d6",
                denyButtonColor: "#f39c12",
                confirmButtonText: "Logout",
                cancelButtonText: "Stay",
                denyButtonText: "Login with another account"
            }).then((result) => {
                if (result.isConfirmed) {
                    // ✅ User clicked "Logout"
                    window.location.href = "index"; // Change to your logout URL
                } else if (result.isDenied) {
                    // ✅ User clicked "Login with another account"
                    window.location.href = "login"; // Change to your login page URL
                } else {
                    // ✅ User clicked "Stay" (do nothing)
                    Swal.fire("You are still logged in!", "", "info");
                }
            });
        }



        let admin2 = JSON.parse(localStorage.getItem("admindetails"));

        console.log(admin2); // Debugging

        if (admin2 && admin2.ImagePath) {  // Check if admin2 exists and has ImagePath
            document.getElementById('adminImage1').src = admin2.ImagePath;
        } else {
            document.getElementById('adminImage1').src = "/default-avatar.png"; // Fallback image
        }

    </script>

      <script>
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('active');
        }
          function toggleSubmenu() {
              let submenu = document.getElementById("interview-submenu");
              let icon = document.getElementById("toggle-icon");
              submenu.classList.toggle("d-none");
              icon.classList.toggle("fa-chevron-down");
              icon.classList.toggle("fa-chevron-up");
          }
    </script>

</body>
</html>
